# ============================================
# 2Bot Platform - Development Environment
# ============================================
# Copy this to .env.development.local for local development
# 
# Usage:
#   cp .env.development.example .env.development.local
#   # Edit values as needed (especially Stripe keys)
#   make dev
#
# ============================================

# ============================================
# Environment
# ============================================
NODE_ENV=development

# ============================================
# Domain Configuration
# ============================================
# Root domain for all subdomains (used by middleware and CORS)
# Change this for staging/custom domain deployments
NEXT_PUBLIC_ROOT_DOMAIN=2bot.org

# Enterprise contact email (for pricing page)
NEXT_PUBLIC_ENTERPRISE_CONTACT_EMAIL=enterprise@2bot.org

# ============================================
# Developer Mode URLs (all on localhost)
# ============================================
# Frontend (Next.js)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_DASHBOARD_URL=http://localhost:3000
APP_URL=http://localhost:3000

# Backend API (Express)
NEXT_PUBLIC_API_URL=http://localhost:3001

# Admin Panel (if running separately)
NEXT_PUBLIC_ADMIN_URL=http://localhost:3003

# ============================================
# API Configuration
# ============================================
# No API_PREFIX needed - development mirrors production structure
# Frontend calls localhost:3001/user/gateways (same as api.2bot.org/user/gateways)
# This ensures dev/prod parity and catches issues early

# ============================================
# Database (Local Docker)
# ============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=2bot_dev
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/2bot_dev?schema=public

# ============================================
# Redis Cache (Local Docker)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# Authentication (Development Secrets)
# ============================================
# ⚠️ DO NOT USE THESE IN PRODUCTION!
# These are example values for local development only.
# Generate real secrets with: openssl rand -base64 64

JWT_SECRET=dev-jwt-secret-do-not-use-in-production-12345678901234567890
JWT_REFRESH_SECRET=dev-jwt-refresh-secret-do-not-use-in-production-123456789
JWT_EXPIRES_IN=7d

# Encryption key (32 bytes hex = 64 characters)
# ⚠️ CRITICAL: Never change after data is encrypted!
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ============================================
# Stripe Billing (Test Mode)
# ============================================
# Get test keys from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your_test_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key_here

# Webhook secret (from Stripe CLI or Dashboard)
# Run: stripe listen --forward-to localhost:3001/api/webhooks/stripe
STRIPE_WEBHOOK_SECRET=whsec_your_test_webhook_secret

# User Plan Price IDs (create in Stripe Test Mode)
STRIPE_PRICE_STARTER=price_test_starter
STRIPE_PRICE_PRO=price_test_pro
STRIPE_PRICE_BUSINESS=price_test_business

# Organization Plan Price IDs (create in Stripe Test Mode)
STRIPE_PRICE_ORG_STARTER=price_test_org_starter
STRIPE_PRICE_ORG_GROWTH=price_test_org_growth
STRIPE_PRICE_ORG_PRO=price_test_org_pro
STRIPE_PRICE_ORG_BUSINESS=price_test_org_business
STRIPE_PRICE_ORG_ENTERPRISE=price_test_org_enterprise

# ============================================
# Email (Resend)
# ============================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_test_xxxxxxxxxxxx

# Leave empty to disable emails in development
# RESEND_API_KEY=

EMAIL_FROM=2Bot Dev <noreply@localhost>
EMAIL_REPLY_TO=dev@localhost

# ============================================
# Telegram (Gateway Testing)
# ============================================
# For testing Telegram gateway locally
TELEGRAM_BOT_TOKEN=your_test_bot_token

# ============================================
# 2Bot AI Service (Platform AI Features)
# ============================================
# These keys power 2Bot's AI assistant (credits-based)
# Separate from user BYOK (Bring Your Own Key) gateways

# OpenAI - GPT-4, DALL-E, TTS, STT
# Get from: https://platform.openai.com/api-keys
TWOBOT_OPENAI_API_KEY=sk-your-test-key-here

# Anthropic - Claude models
# Get from: https://console.anthropic.com/settings/keys
TWOBOT_ANTHROPIC_API_KEY=sk-ant-your-test-key-here

# ============================================
# Legacy OpenAI Key (deprecated - use TWOBOT_OPENAI_API_KEY)
# ============================================
OPENAI_API_KEY=sk-your-test-key-here

# ============================================
# Sentry Error Tracking
# ============================================
# Leave empty to disable error tracking locally
# Get from: https://sentry.io/settings/
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_AUTH_TOKEN=
SENTRY_ORG=
SENTRY_PROJECT=

# ============================================
# Feature Flags (Development)
# ============================================
# Enable debug logging
DEBUG=true

# Skip email verification for faster testing
# SKIP_EMAIL_VERIFICATION=true

# ============================================
# Admin Settings
# ============================================
# Your email will be auto-promoted to SUPER_ADMIN on first registration
ADMIN_EMAIL=admin@localhost

# ============================================
# Graceful Shutdown (Docker/Kubernetes)
# ============================================
# Time to wait for load balancer to drain connections (ms)
SHUTDOWN_DELAY_MS=5000

# Force exit timeout if graceful shutdown hangs (ms)
FORCE_SHUTDOWN_TIMEOUT_MS=30000
